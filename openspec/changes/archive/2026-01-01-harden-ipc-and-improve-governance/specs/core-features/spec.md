## MODIFIED Requirements

### Requirement: 菜单数据管理
系统 SHALL 支持菜单数据的导入与持久化存储，并对导入数据进行防御性校验与归一化处理。

#### Scenario: 导入菜单配置（过滤与归一化）
- **GIVEN** 用户选择导入一个 JSON 文件
- **WHEN** 文件内容包含无效条目、空名称或重复名称
- **THEN** 系统过滤无效条目并按名称去重
- **AND** 标签被 trim、去空并去重归一化

## ADDED Requirements

### Requirement: 菜单管理效率
系统 SHALL 支持用户在界面中快速搜索与编辑菜单项。

#### Scenario: 关键词搜索菜单
- **WHEN** 用户输入关键词
- **THEN** 系统按菜名或标签匹配并过滤展示

#### Scenario: 编辑菜单项
- **GIVEN** 菜单中存在一个条目
- **WHEN** 用户修改其名称或标签并保存
- **THEN** 系统更新该条目并持久化

### Requirement: 历史记录保留策略
系统 SHALL 支持配置历史记录保留天数，并在加载或写入历史时自动清理过期记录。

#### Scenario: 启动加载时自动清理
- **GIVEN** 历史记录中存在超过保留天数的条目
- **WHEN** 应用启动并加载历史
- **THEN** 系统自动删除过期条目并持久化

#### Scenario: 新增记录后自动清理
- **GIVEN** 用户新增一条历史记录
- **WHEN** 保留策略开启（保留天数 > 0）
- **THEN** 系统在写入后清理过期条目并持久化

